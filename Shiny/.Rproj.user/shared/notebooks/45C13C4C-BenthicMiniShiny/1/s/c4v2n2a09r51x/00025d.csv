"0","server <- function(input, output) {"
"0","  "
"0","  output$benthic_plot <- renderPlotly({"
"0","    "
"0","    selected_regions <- input$region"
"0","    "
"0","    selected_covers <- input$cover"
"0","    "
"0","    if (is.null(selected_regions)) {"
"0","      return(plot_ly())  "
"0","    }"
"0",""
"0","    selected_years <- as.character(input$year)"
"0",""
"0","    plot_list <- list()"
"0",""
"0","    for (region_name in selected_regions) {"
"0","      region_data <- switch("
"0","        region_name,"
"0","        ""Dry Tortugas"" = NCRMP_Tort_2014_22_cover_region %>% dplyr::mutate(YEAR = ifelse(YEAR == 2020, 2021, as.numeric(YEAR))),"
"0","        ""Southeast Florida"" = NCRMP_SEFCRI_2014_22_cover_region,"
"0","        ""Florida Keys"" = NCRMP_FLK_2014_22_cover_region %>% filter(YEAR != 2020),"
"0","        NULL"
"0","      )"
"0",""
"0","      "
"0","      if (!is.null(region_data)) {"
"0","        plot_list[[region_name]] <- generateRegionPlot(region_data, selected_years, region_name, selected_covers)"
"0","      }"
"0","    }"
"0",""
"0","    final_plot <- subplot(plot_list) %>% layout(title = 'Coral Coverage by Region')"
"0","    return(final_plot)"
"0","  })"
"0","}"
"0",""
"0","shinyApp(ui, server)"
"2","
Listening on http://127.0.0.1:4920
"
"2","Warning: Error in generateRegionPlot: unused argument (selected_covers)"
"2","  103: [34m[1mrenderPlotly [#28][22m[39m
"
"2",""
"2","  102: [37mfunc[39m
"
"2",""
"2","   99: [37mshinyRenderWidget[39m
"
"2",""
"2","   98: [37mfunc[39m
"
"2",""
"2","   85: [37mrenderFunc[39m
"
"2",""
"2","   84: [37moutput$benthic_plot[39m
"
"2",""
"2","    3: [37mrunApp[39m
"
"2",""
"2","    2: [37mprint.shiny.appobj[39m
"
"2",""
"2","    1: [37m<Anonymous>[39m
"
