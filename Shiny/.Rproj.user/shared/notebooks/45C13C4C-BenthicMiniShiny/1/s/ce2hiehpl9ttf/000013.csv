"0","# generateRegionPlot <- function(region_data, selected_years, region_name, selected_covers) {"
"0","#   "
"0","#  cover_colors <- c("
"0","#   ""CCA"" = ""#e27c7c"","
"0","#   ""HARD CORALS"" = ""#a86464"","
"0","#   ""MACROALGAE"" = ""#6d4b4b"","
"0","#   ""RAMICRUSTA SPP."" = ""#503f3f"","
"0","#   ""SOFT CORALS"" = ""#333333"","
"0","#   ""SPONGES"" = ""#3c4e4b"","
"0","#   ""TURF ALGAE"" = ""#466964"","
"0","#   ""OTHER"" = ""#599e94"""
"0","# )"
"0","#   "
"0","#  region_data <- region_data %>%"
"0","#     filter(cover_group %in% selected_covers & YEAR %in% selected_years)"
"0","#   "
"0","#   region_label <- region_name"
"0","#   "
"0","#   plot <- region_data %>%"
"0","#     plot_ly("
"0","#       x = ~YEAR,"
"0","#       y = ~avCvr,"
"0","#       color = ~cover_group,"
"0","#       colors = cover_colors,"
"0","#       text = ~paste(""Year: "", YEAR, ""<br>Cover: "", avCvr, ""%""),"
"0","#       name = ~cover_group,"
"0","#       type = ""scatter"","
"0","#       mode = ""lines+markers"""
"0","#     ) %>%"
"0","# "
"0","#     add_trace("
"0","#       x = ~YEAR,"
"0","#       y = ~avCvr,"
"0","#       error_y = list("
"0","#         type = ""data"","
"0","#         symmetric = FALSE,"
"0","#         array = region_data$Std_Dev"
"0","#       ),"
"0","#       type = ""scatter"","
"0","#       mode = ""none"",  # This ensures only error bars are plotted"
"0","#       showlegend = FALSE"
"0","#     ) %>%"
"0","#     layout("
"0","#       xaxis = list(type = ""date""),"
"0","#       yaxis = list(title = ""Cover (%)""),"
"0","#       title = ""Coral and Macroalgae Cover"","
"0","#       legend = list("
"0","#         orientation = ""h"","
"0","#         x = 0.5,"
"0","#         y = -0.1"
"0","#       )"
"0","#     )"
"0","# "
"0","#   plot <- plot %>% layout("
"0","#     font = list(family = ""Calibri""),"
"0","#     theme_Publication()"
"0","#   )"
"0","# "
"0","#   return(plot)"
"0","# }"
"0",""
